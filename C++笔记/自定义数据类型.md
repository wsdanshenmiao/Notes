# 自定义数据类型

## 类

一种用户定义的引用[数据类型

### 类的基本概念

> 定义一个类：
>
> ```c++
> class Player
> {
> public:	//访问权限
> 
> 	int x, y;
> 	int speed;	//变量
> 
> 	void Move(int ax, int ay)	//方法
> 	{
> 		x += ax * speed;
> 		y += ay * speed;
> 	}
> };
> ```
>
> 使用类实例化一个对象：
>
> ```c++
> Player player0;
> ```

### 访问权限

> **一个类的所有成员默认情况下是==私有成员==**
>
> > + private（私有成员）
> > 	只有类中的函数才能访问类中的变量。
>
> > + protected(保护成员)
>
> > + public(公有成员)
> > 	类之外的任何地方都可访问类中的变量

### 类和结构体的对比

> 1. 可见度的区别：
> 	类中成员默认为**==私有成员==**，结构体中成员默认为**==公有成员==**。

### 构造函数

#### 构造函数的基本概念

> > + 构造函数是一种特殊类型的方法，在**==每次实例化对象时都会进行==**。
> >
> > + 构造函数**==无返回类型==**，**名字与类相同**。
> >
> > + **使用一个类的静态方法**或**使用new关键字创建对象实例**时构造函数将不会运行。
> >
> > + **==new + 构造函数==会创建一个新的对象**。
> >
> > ```c++
> > class Entity
> > {
> > public:
> > 	float x, y;
> > 	Entity(float a, float b)	//构造函数
> > 	{
> > 		x = a;
> > 		y = b;
> > 	}
> > 	void Print()
> > 	{
> > 		std::cout << x << "," << y << std::endl;
> > 	}
> > };
> > int main()
> > {
> > 	Entity e(5.0f, 9.0f);	//将x初始化为5.0，y初始化为9.0
> > 	e.Print();
> > }
> > ```
> >
> > Entity为构造函数，实例化对象时每次都会初始化x，y。
>
> > **删除构造函数**
> >
> > 当希望被人只使用类而不实例化对象时，可删除构造函数。
> >
> > 1. ```c++
> > 	class Log
> > 	{
> > 	private:
> > 		Log() {};
> > 	};
> > 	```
> >
> > 2. ```c++
> > 	class Log
> > 	{
> > 	public:
> > 		Log() = delete;
> > 	};
> > 	```

#### 构造函数初始值列表

> 格式：
>
> ```c++
> Player(const std::string& name, float x, float y)
> 	:m_name(name), X(x), Y(y) {}
> ```
>
> + 只有**==成员类或基类==**才能显示在类或结构的初始化列表中。
> + 实现初始化列表时，要确保与成员变量声明时顺序一致。
> + 若不使用初始化列表，成员会构造两次。



### 析构函数

> + **每次销毁对象时被调用**。
>
> ```c++
> class Entity
> {
> public:
> 	float x, y;
> 	~Entity()	//析构函数
> 	{
> 		x = 0;
> 		y = 0;
> 		std::cout << "destroy entity" << std::endl;
> 	}
> };
> ```



## 枚举

> 定义一个枚举类型
>
> ```c++
> enum Type :unsigned char
> {
> 	A = 5, B, C, D	//递增1
> };
> ```
>
> 枚举默认为32位整型，可在其后加冒号再加整数类型。

